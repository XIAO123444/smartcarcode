#include "zf_common_headfile.h"
#include "isr.h"
#include "pid_v.h"
#include "motor.h"
#include "steer_pid.h"
#include "track.h"
#include "screen.h" 
#include "photo_chuli.h"
extern uint32 key1_count;
extern uint32 key2_count;
extern uint32 key3_count;
extern uint32 key4_count;
extern uint32 key5_count;
extern uint32 key6_count;
extern uint8  key1_flag;
extern uint8  key2_flag;
extern uint8  key3_flag;
extern uint8  key4_flag;
extern uint8  key5_flag;
extern uint8  key6_flag;
extern uint32 count_time;           //°´¼ü¼ÆÊýÊ±¼ä
extern int input;               //¼ÇÂ¼°´¼üÊäÈë
extern int status;              //¼ÇÂ¼×´Ì¬
extern int32 encoder1;          //±àÂëÆ÷Êý¾Ý1
extern int32 encoder2;          //±àÂëÆ÷Êý¾Ý2
extern bool save_flag;          //±£´æ±êÖ¾·û
extern int speed;
int turn1 =0;
int encodercounter1=0;
extern uint16 centerline2[MT9V03X_H];

extern int image_threshold;

extern bool stop_flag1;                //Í£Ö¹±êÊ¶·û
extern int current_state;              //²Ëµ¥µ±Ç°×´Ì¬
extern uint8 dis_image[MT9V03X_H][MT9V03X_W];       //´¦ÀíºóµÄÍ¼Ïñ
//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM1 çš„å®šæ—¶å™¨æ›´æ–°ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM1_UP_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM1_UP_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        turn1 =S_PID_CAL();

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM1->SR &= ~TIM1->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM2 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM2_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM2_IRQHandler (void)
{


    if(key1_flag)
	{
        status=1;
		key1_count++;
		if(key1_count>count_time)
		{
			key1_count=0;
			key1_flag=0;
		}
	}
	if(key2_flag)
	{
        status=2;
		key2_count++;
		if(key2_count>count_time)
		{
			key2_count=0;
			key2_flag=0;
		}
	}
	if(key3_flag)
	{
        status=3;
		key3_count++;
		if(key3_count>count_time)
		{
			key3_count=0;
			key3_flag=0;
		}
	}
	if(key4_flag)
	{
        status=4;
		key4_count++;
		if(key4_count>count_time)
		{
			key4_count=0;
			key4_flag=0;
		}
	}
    if(key5_flag)
    {
        status=5;
        key5_count++;

        if(key5_count>count_time+50)
        {
            key5_count=0;
            key5_flag=0;
        }
    }
    if(key6_flag)
    {
        status=6;
        key6_count++;
        if(key6_count>count_time+50)
        {
            key6_count=0;
            key6_flag=0;
        }
    }
    if(key1_flag==0 &&key2_flag==0 &&key3_flag==0 &&key4_flag==0 &&key5_flag==0&&key6_flag==0)
    {   
        input=status;
    }


    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    
    TIM2->SR &= ~TIM2->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM3 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM3_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM3_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM3->SR &= ~TIM3->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM4 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM4_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM4_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM4->SR &= ~TIM4->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM5 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM5_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM5_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM5->SR &= ~TIM5->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
} 

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM6 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM6_IRQn,  1);
//-------------------------------------------------------------------------------------------------------------------
void TIM6_IRQHandler (void) 
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
	encoder1=encoder_get_count(TIM3_ENCODER)*(-1);
	encoder_clear_count(TIM3_ENCODER);
	encoder2=encoder_get_count(TIM4_ENCODER);
	encoder_clear_count(TIM4_ENCODER);
	encodercounter1+=(encoder2+encoder1);
    turn1=40 *S_PID_CAL();
//    turn1=0;
    int outpute =pid_V_comon( speed );
    int dutyr =outpute+turn1;
    int dutyl = outpute-turn1;
    
    motor_run(dutyr,dutyl );//å?  ç”µæœºï¼Œå·¦ç”µæœº
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM6->SR &= ~TIM6->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM7 çš„å®šæ—¶å™¨ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM7_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM7_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    if(mt9v03x_finish_flag)
        { 
            image_threshold=my_adapt_threshold(mt9v03x_image[0], MT9V03X_W, MT9V03X_H);//´ó½ò·¨¼ÆËããÐÖµ
            set_b_imagine(image_threshold);                                            //¸ù¾ÝãÐÖµÉèÖÃ¶þÖµ»¯Í¼Ïó
            image_boundary_process2();                                                  //Í¼Ïñ±ß½ç´¦Àí
            if(current_state==1)
            {
                
                 ips200_show_gray_image(0,120,(const uint8 *)dis_image,MT9V03X_W, MT9V03X_H,MT9V03X_W, MT9V03X_H,0);       //Õ¹Ê¾»Ò¶ÈÍ¼Ïó
                element_check();                                    //ÔªËØÅÐ¶Ï
                show_line();                                        //ÏÔÊ¾ÏßÌõ                  
            }                                                                   
			if( encodercounter1>7000)
			{	
				banmaxian_check();//°ßÂíÏß±£»¤
			}
            black_protect_check();//ºÚÏß±£»¤
            if(stop_flag1)
            {
            pit_disable(TIM6_PIT);          //½ûÖ¹¶¨Ê±Æ÷6ÖÐ¶Ï
            motor_run(0,0 );                //µç»úÍ£Ö¹

            }
            mt9v03x_finish_flag = 0;    
            
        } 
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM7->SR &= ~TIM7->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     TIM8 çš„å®šæ—¶å™¨æ›´æ–°ä¸?æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(TIM8_UP_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void TIM8_UP_IRQHandler (void)
{  
    tsl1401_collect_pit_handler();
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
    TIM8->SR &= ~TIM8->SR;                                                      // æ¸…ç©ºä¸?æ–?çŠ¶æ€?
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART1 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART1_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART1_IRQHandler (void)
{
    if(UART1->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART1->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART1->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
#if DEBUG_UART_USE_INTERRUPT                                                    // å¦‚æžœå¼€å? debug ä¸²å£ä¸?æ–?
        debug_interrupr_handler();                                              // è°ƒç”¨ debug ä¸²å£æŽ¥æ”¶å¤„ç†å‡½æ•° æ•°æ®ä¼šè?? debug çŽ?å½¢ç¼“å†²åŒºè¯»å–
#endif                                                                          // å¦‚æžœä¿?æ”¹äº† DEBUG_UART_INDEX é‚£è¿™æ®µä»£ç éœ€è¦æ”¾åˆ°å?¹åº”çš„ä¸²å£ä¸­æ–?åŽ?
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART1->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART2 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART2_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART2_IRQHandler (void)
{
    if(UART2->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART2->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART2->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        gps_uart_callback();
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART2->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART3 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART3_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART3_IRQHandler (void)
{
    if(UART3->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART3->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART3->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART3->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART4 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART4_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART4_IRQHandler (void)
{
    if(UART4->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART4->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART4->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART4->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART5 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART5_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART5_IRQHandler (void)
{
    if(UART5->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART5->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART5->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART5->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART6 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART6_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART6_IRQHandler (void)
{
    if(UART6->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART6->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART6->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        wireless_module_uart_handler();
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART6->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART7 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART7_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART7_IRQHandler (void)
{
    if(UART7->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART7->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART7->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART7->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     UART8 çš„ä¸²å£ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(UART8_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void UART8_IRQHandler (void)
{
    if(UART8->ISR & 0x00000001)                                                 // ä¸²å£å‘é€ç¼“å†²ç©ºä¸?æ–?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…å¡?å†™æ•°æ?æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£å‘é€ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART8->ICR |= 0x00000001;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
    if(UART8->ISR & 0x00000002)                                                 // ä¸²å£æŽ¥æ”¶ç¼“å†²ä¸?æ–?
    {
        camera_uart_handler();
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        // åŠ¡å¿…è¯»å–æ•°æ®æˆ–è€…å…³é—?ä¸?æ–? å¦åˆ™ä¼šä¸€ç›´è§¦å‘ä¸²å£æŽ¥æ”¶ä¸­æ–?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        UART8->ICR |= 0x00000002;                                               // æ¸…é™¤ä¸?æ–?æ ‡å¿—ä½?
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI0 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI0_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI0_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A0/B0..H0) å¼•è„šè§¦å‘

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A0/B0..H0) å¼•è„šè§¦å‘
    EXTI->PR |= (0x00000001 << 0);                                              // æ¸…é™¤ line0 è§¦å‘æ ‡å¿—
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI1 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI1_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI1_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A1/B1..H1) å¼•è„šè§¦å‘

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A1/B1..H1) å¼•è„šè§¦å‘
    EXTI->PR |= (0x00000001 << 1);                                              // æ¸…é™¤ line1 è§¦å‘æ ‡å¿—
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI2 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI2_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI2_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A2/B2..H2) å¼•è„šè§¦å‘

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A2/B2..H2) å¼•è„šè§¦å‘
    EXTI->PR |= (0x00000001 << 2);                                              // æ¸…é™¤ line2 è§¦å‘æ ‡å¿—
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI3 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI3_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI3_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A3/B3..H3) å¼•è„šè§¦å‘

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A3/B3..H3) å¼•è„šè§¦å‘
    EXTI->PR |= (0x00000001 << 3);                                              // æ¸…é™¤ line3 è§¦å‘æ ‡å¿—
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI4 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI4_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI4_IRQHandler (void)
{
    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A4/B4..G4) å¼•è„šè§¦å‘

    // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A4/B4..G4) å¼•è„šè§¦å‘
    EXTI->PR |= (0x00000001 << 4);                                              // æ¸…é™¤ line4 è§¦å‘æ ‡å¿—
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI9-5 çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI9_5_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI9_5_IRQHandler (void)
{
    if(EXTI->PR & (0x00000001 << 5))                                            // æ£€æµ? line5 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A5/B5..G5) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A5/B5..G5) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 5);                                          // æ¸…é™¤ line5 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 6))                                            // æ£€æµ? line6 æ˜?å¦è§¦å?
    {
        camera_vsync_handler();
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A6/B6..G6) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A6/B6..G6) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 6);                                          // æ¸…é™¤ line6 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 7))                                            // æ£€æµ? line7 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A7/B7..G7) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A7/B7..G7) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 7);                                          // æ¸…é™¤ line7 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 8))                                            // æ£€æµ? line8 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A8/B8..G8) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A8/B8..G8) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 8);                                          // æ¸…é™¤ line8 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 9))                                            // æ£€æµ? line9 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A9/B9..G9) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A9/B9..G9) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 9);                                          // æ¸…é™¤ line9 è§¦å‘æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     å¤–éƒ¨ä¸?æ–? EXTI15-10(A15-10/B15-10..G15-10) çº? çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(EXTI15_10_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void EXTI15_10_IRQHandler (void)
{
    if(EXTI->PR & (0x00000001 << 10))                                           // æ£€æµ? line10 æ˜?å¦è§¦å?
    {
        // -----------------* DM1XA å…‰ä¿¡å? é¢„ç½®ä¸?æ–?å¤„ç†å‡½æ•° *-----------------
        dm1xa_light_callback();
        // -----------------* DM1XA å…‰ä¿¡å? é¢„ç½®ä¸?æ–?å¤„ç†å‡½æ•° *-----------------
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A10/B10..G10) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A10/B10..G10) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 10);                                         // æ¸…é™¤ line10 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 11))                                           // æ£€æµ? line11 æ˜?å¦è§¦å?
    {
        // -----------------* DM1XA å£?/åé?ˆä¿¡å? é¢„ç½®ä¸?æ–?å¤„ç†å‡½æ•° *-----------------
        dm1xa_sound_callback();
        // -----------------* DM1XA å£?/åé?ˆä¿¡å? é¢„ç½®ä¸?æ–?å¤„ç†å‡½æ•° *-----------------
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A11/B11..G11) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A11/B11..G11) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 11);                                         // æ¸…é™¤ line11 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 12))                                           // æ£€æµ? line12 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A12/B12..G12) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A12/B12..G12) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 12);                                         // æ¸…é™¤ line12 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 13))                                           // æ£€æµ? line13 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A13/B13..G13) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A13/B13..G13) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 13);                                         // æ¸…é™¤ line13 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 14))                                           // æ£€æµ? line14 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A14/B14..G14) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A14/B14..G14) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 14);                                         // æ¸…é™¤ line14 è§¦å‘æ ‡å¿—
    }
    if(EXTI->PR & (0x00000001 << 15))                                           // æ£€æµ? line15 æ˜?å¦è§¦å?
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A15/B15..G15) å¼•è„šè§¦å‘

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ? (A15/B15..G15) å¼•è„šè§¦å‘
        EXTI->PR |= (0x00000001 << 15);                                         // æ¸…é™¤ line15 è§¦å‘æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 1 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH1_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel1_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (0 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (0 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 2 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH2_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel2_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (1 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (1 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 3 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH3_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel3_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (2 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (2 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 4 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH4_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel4_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (3 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        camera_dma_handler();
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (3 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 5 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH5_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel5_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (4 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (4 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 6 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH6_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel6_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (5 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (5 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA1 é€šé“ 7 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA1_CH7_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA1_Channel7_IRQHandler (void)
{
    if(DMA1->ISR & (0x00000001 << (6 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA1->IFCR |= (0x00000001 << (6 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA2 é€šé“ 1 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA2_CH1_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA2_Channel1_IRQHandler (void)
{
    if(DMA2->ISR & (0x00000001 << (0 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA2->IFCR |= (0x00000001 << (0 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA2 é€šé“ 2 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA2_CH2_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA2_Channel2_IRQHandler (void)
{
    if(DMA2->ISR & (0x00000001 << (1 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA2->IFCR |= (0x00000001 << (1 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA2 é€šé“ 3 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA2_CH3_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA2_Channel3_IRQHandler (void)
{
    if(DMA2->ISR & (0x00000001 << (2 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA2->IFCR |= (0x00000001 << (2 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA2 é€šé“ 4 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA2_CH4_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA2_Channel4_IRQHandler (void)
{
    if(DMA2->ISR & (0x00000001 << (3 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA2->IFCR |= (0x00000001 << (3 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

//-------------------------------------------------------------------------------------------------------------------
// å‡½æ•°ç®€ä»?     DMA2 é€šé“ 5 çš„ä¸­æ–?æœåŠ¡å‡½æ•° å?åŠ? .s æ–‡ä»¶å®šä¹‰ ä¸å…è®¸ä¿®æ”¹å‡½æ•°åç§?
//              é»˜è?¤ä¼˜å…ˆçº§ ä¿?æ”¹ä¼˜å…ˆçº§ä½¿ç”¨ interrupt_set_priority(DMA2_CH5_IRQn, 1);
//-------------------------------------------------------------------------------------------------------------------
void DMA2_Channel5_IRQHandler (void)
{
    if(DMA2->ISR & (0x00000001 << (4 * 4)))                                     // åˆ¤æ–­è§¦å‘é€šé“
    {
        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?

        // æ­¤å?„ç¼–å†™ç”¨æˆ·ä»£ç ?
        DMA2->IFCR |= (0x00000001 << (4 * 4));                                  // æ¸…ç©ºè¯¥é€šé“ä¸?æ–?æ ‡å¿—
    }
}

